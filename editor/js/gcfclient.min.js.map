{"version":3,"sources":["webpack://GcfClient/webpack/universalModuleDefinition","webpack://GcfClient/webpack/bootstrap","webpack://GcfClient/./node_modules/@babel/runtime/helpers/typeof.js","webpack://GcfClient/./node_modules/@babel/runtime/helpers/objectSpread.js","webpack://GcfClient/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://GcfClient/./node_modules/@babel/runtime/helpers/createClass.js","webpack://GcfClient/./src/client.js","webpack://GcfClient/(webpack)/buildin/global.js","webpack://GcfClient/./node_modules/@babel/runtime/helpers/defineProperty.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof2","obj","iterator","constructor","_typeof","target","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","protoProps","staticProps","myRoot","self","_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default","global","undefined","GcfClient","opts","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","this","_name","win","dom","jQuery","ajax","doc","document","errs","model","stripe","hidePostalCode","style","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default","base","lineHeight","init","str","decodeURIComponent","replace","e","encodeURIComponent","that","form","evt","charCode","event","which","keyCode","preventDefault","response","error","isSubmitting","stripe_server","message","payload","card_brand","card","brand","card_last4","last4","card_month","month","card_year","year","pay_token","id","pay_source","JSON","stringify","server","qstr","pattern","decode","split","v","parts","exec","$inputs","setTimeout","prop","fd","cache","contentType","processData","method","type","url","attr","data","done","textStatus","jqXHR","onDone","fail","errorThrown","onFail","always","doAlways","Stripe","elSel","stripeSelector","stripeEl","trim","hidePostal","elements","mount","addEventListener","stripe_client","each","_","input","files","formId","iQuery","location","href","indexOf","vars","queryParseString","slice","k","val","doAjaxPost","safariQuirks","FormData","doFormSubmit","serializeArray","ownerInfo","owner","email","address1","address","line1","line2","address2","city","state","postal_code","postal","country","first_name","last_name","createSource","then","rsp","rst","stripeResponseHandler","append","getElementsByClassName","on","validateAll","validatePhone","validateEmployment","isValid","phone","amount","employer","occupation","find","grecaptcha","ready","execute","action","token","initStripe","g","Function"],"mappings":"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","file":"gcfclient.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"GcfClient\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GcfClient\"] = factory();\n\telse\n\t\troot[\"GcfClient\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/**\n * Client-side script for form submission\n *\n * requires: jQuery - todo remove later\n */\nconst myRoot = (typeof self === 'object' && self.self === self && self) ||\n  (typeof global === 'object' && global.global === global && global) ||\n  this\n\nclass GcfClient {\n  constructor(opts = {}) {\n    this._name = 'GcfClient'\n    this.win   = opts.win || myRoot\n    this.opts  = opts\n    this.dom   = this.win.jQuery\n    this.ajax  = this.dom.ajax\n    this.doc   = this.win.document || {}\n    this.errs  = []\n    this.model = {}\n\n    this.opts.stripe = opts.stripe || { hidePostalCode: false, style: { } }\n    this.opts.stripe.style = {\n      base: {\n          'lineHeight': '1.49'\n      }\n      , ...opts.stripe.style\n    }\n\n    this.init()\n  }\n\n  /**\n   * safely decode the string\n   * @param  {string} str\n   * @return {string} url decoded string\n   */\n  decode(str) {\n    try {\n      return decodeURIComponent(str.replace(/\\+/g, ' '))\n    } catch (e) {\n      return str\n    }\n  }\n\n  /**\n   * safely encode the string\n   * @param  {string} str\n   * @return {string} url encoded string\n   */\n  encode(str) {\n    try {\n      return encodeURIComponent(str);\n    } catch (e) {\n      return str;\n    }\n  }\n\n  validateAll(that, form) {\n    return true\n  }\n\n  validatePhone(that, form) {\n    return true\n  }\n\n  validateEmployment(that, form) {\n    return true\n  }\n\n  /**\n   * Numeric Input event handler\n   *\n   * @param  {Event}  evt the event\n   * @return {Boolean}     false if not number\n   */\n  preventNonNumericInput(evt) {\n    evt = evt || this.win.event\n    var charCode = (evt.which) ? evt.which : evt.keyCode\n\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n      if (charCode === 42) return true\n      evt.preventDefault()\n      return false\n    } else {\n      return true\n    }\n  }\n\n  stripeResponseHandler(response) {\n    if (response.error) {\n      this.isSubmitting       = false\n      this.errs.stripe_server = response.error.message\n      return false\n    }\n\n    const source  = response.source\n    const payload = {}\n\n    if (response.source) {\n      payload.card_brand = source.card.brand\n      payload.card_last4 = source.card.last4\n      payload.card_month = source.card.month\n      payload.card_year  = source.card.year\n      payload.pay_token  = source.id\n      payload.pay_source = JSON.stringify(source)\n    }\n\n    this.errs.server = null\n\n    return payload\n  }\n\n  /**\n   * helper method to parse querystring to object\n   * @param  {string} qstr the querystring\n   * @return {object}      result\n   */\n  queryParseString(qstr) {\n    qstr  = (qstr || '').replace('?', '').replace('#', '')\n\n    const pattern = /(\\w+)\\[(\\d+)\\]/\n    const decode  = this.decode,\n          obj     = {},\n          a       = qstr.split('&')\n\n    a.forEach((v) => {\n      const parts = v.split('=')\n      const key   = decode(parts[0])\n      const m     = pattern.exec(key)\n\n      if (m) {\n        obj[m[1]]       = obj[m[1]] || []\n        obj[m[1]][m[2]] = decode(parts[1])\n        return\n      }\n\n      obj[parts[0]] = decode(parts[1] || '')\n    })\n\n    return obj || {}\n  }\n\n  doAlways(form) {\n    const that    = this\n    const dom     = that.dom\n    const $inputs = dom('input[type=\"file\"]', form[0])\n\n    setTimeout(() => {\n      // see safariQuirks\n      $inputs.prop('disabled', false)\n      that.isSubmitting = false\n    }, 200)\n  }\n\n  doFormSubmit(form, fd) {\n    const that = this\n\n    that.ajax({\n      mode: 'cors',\n      cache: false,\n      contentType: false,\n      processData: false,\n      method: 'POST',\n      type: 'POST', // For jQuery < 1.9\n      url: form.attr('action'),\n      data: fd\n    }).done((data, textStatus, jqXHR) => {\n      if (that.onDone) {\n        that.onDone(data, textStatus, jqXHR)\n      }\n    }).fail((jqXHR, textStatus, errorThrown) => {\n      if (that.onFail) {\n        that.onDone(jqXHR, textStatus, errorThrown)\n      }\n    }).always(() => {\n      that.doAlways(form)\n    })\n  }\n\n  initStripe(form) {\n    const that   = this\n    const opts   = that.opts\n    const win    = that.win\n    const dom    = that.dom\n    const stripe = win.Stripe\n    const elSel  = opts.stripeSelector || '#stripeElement'\n\n    if (typeof(stripe) === 'function') {\n      const stripeEl = dom(elSel)\n      const key      = (stripeEl.data('key') || '').trim()\n      const hidePostal = stripeEl.data('hide-postal')\n\n      if (key.length > 2) {\n        that.stripe   = stripe(key);\n        that.elements = that.stripe.elements();\n\n        // Create an instance of the card Element\n        that.card = that.elements.create('card', {\n          style: opts.stripe.style,\n          hidePostalCode: hidePostal\n        })\n\n        // Add an instance of the card Element into div\n        that.card.mount(elSel)\n\n        // Handle real-time validation errors from the card Element.\n        that.card.addEventListener('change', (e) => {\n          that.errs.stripe_client = null\n          that.errs.stripe_server = null\n          if (e.error) {\n            that.errs.stripe_client = e.error.message\n          }\n        })\n      }\n    }\n  }\n\n  /**\n   * https://stackoverflow.com/questions/51201011/ios-safari-fails-to-send-form-data-via-ajax/51273135\n   *\n   */\n  safariQuirks(form) {\n    const that    = this\n    const dom     = that.dom\n    const $inputs = dom('input[type=\"file\"]:not([disabled])', form[0])\n    if ($inputs.length > 0) {\n      $inputs.each((_, input) => {\n        if (input.files.length > 0) return\n        dom(input).prop('disabled', true)\n      })\n    }\n  }\n\n  init() {\n    const that   = this\n    const opts   = that.opts\n    const win    = that.win\n    const dom    = that.dom\n    const formId = opts.formId\n    const iQuery = win.location.href.indexOf('?')\n\n    // auto populate query string to form field\n    if (iQuery > 0) {\n      const vars = that.queryParseString(win.location.href.slice(iQuery + 1))\n\n      for(let k in vars) {\n        if (vars[k]) {\n          dom(`[name=\"${k}\"]`).val(vars[k])\n        }\n      }\n    }\n\n    // handle form submission with ajax\n    // status: \"success\", \"notmodified\", \"nocontent\", \"error\", \"timeout\", \"abort\", or \"parsererror\"\n    const doAjaxPost = (form) => {\n      // serialize form\n      that.safariQuirks(form)\n      const fd = new FormData(form[0])\n\n      // if no payment then simply submit\n      if (!that.card) {\n        return that.doFormSubmit(form, fd)\n      }\n\n      // otherwise, process stripe charge\n      const model = {}\n\n      // we use form serializeArray to provide better browser support\n      // as FormData is not compatible with many browsers\n      const fa    = form.serializeArray()\n\n      // convert to object\n      fa.forEach((value, key) => {\n        model[key] = value;\n      })\n\n      // compose payload for stripe\n      const ownerInfo = {\n        owner: {\n          name: model.name,\n          email: model.email\n        }\n      }\n\n      // if address exist, pass it along\n      if (model.address1) {\n        ownerInfo.owner.address =  {\n          line1: model.address1,\n          line2: model.address2,\n          city: model.city,\n          state: model.state,\n          postal_code: model.postal,\n          country: model.country\n        }\n      }\n\n      // if first name exists, there must be a last name\n      if (model.first_name) {\n        ownerInfo.name = model.first_name + ' ' + model.last_name\n      }\n\n      // send to stripe\n      that.stripe.createSource(that.card, ownerInfo)\n        .then((rsp) => {\n          let rst = that.stripeResponseHandler(rsp)\n          if (rst) {\n            // append result to form data\n            for(let k in rst) {\n              fd.append(k, rst[k])\n            }\n\n            that.doFormSubmit(form, fd)\n          } else {\n            that.doAlways(form)\n          }\n        });\n    }\n\n    // get the first form\n    let form = dom(document.getElementsByClassName('form')[0])\n    if (formId) {\n      form = dom('#' + formId)\n    }\n\n    // handle form submit\n    form.on('submit', (e) => {\n      // prevent double submits\n      e.preventDefault()\n      if (that.isSubmitting) {\n        return false\n      }\n\n      that.validateAll(that, form)\n      that.validatePhone(that, form)\n      that.validateEmployment(that, form)\n\n      const errs  = that.errs\n      let isValid = that.errs.length <= 0\n\n      isValid = isValid && !errs.phone && !errs.amount && !errs.stripe_client && !errs.stripe_server\n      isValid = isValid && !errs.employer && !errs.occupation\n\n      if (isValid) {\n        that.isSubmitting = true\n\n        // find captcha input\n        const input = form.find('input[name=\"g-recaptcha-response\"]')\n\n        /* do something to prevent double submit, like disable submit button */\n        if (win.grecaptcha && input.length > 0) {\n          win.grecaptcha.ready(() => {\n            win.grecaptcha.execute(input.data('sitekey'), { action: (input.data('action') || form.attr('id')) })\n            .then((token) => {\n              input.val(token)\n              doAjaxPost(form)\n            })\n          });\n        } else {\n          doAjaxPost(form)\n        }\n      }\n\n      return false\n    })\n\n    // init strype\n    if (win.Stripe) {\n      that.initStripe(form)\n    }\n  }\n}\n\nexport default GcfClient\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;"],"sourceRoot":""}